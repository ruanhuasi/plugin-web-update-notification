{"version":3,"sources":["../../../node_modules/.pnpm/crypt@0.0.2/node_modules/crypt/crypt.js","../../../node_modules/.pnpm/charenc@0.0.2/node_modules/charenc/charenc.js","../../../node_modules/.pnpm/is-buffer@1.1.6/node_modules/is-buffer/index.js","../../../node_modules/.pnpm/md5@2.3.0/node_modules/md5/md5.js","../src/index.ts","../../../node_modules/.pnpm/find-up@6.3.0/node_modules/find-up/index.js","../../../node_modules/.pnpm/locate-path@7.2.0/node_modules/locate-path/index.js","../../../node_modules/.pnpm/yocto-queue@1.0.0/node_modules/yocto-queue/index.js","../package.json","../src/constant.ts"],"sourcesContent":["(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","import { dirname } from 'node:path'\r\nimport { fileURLToPath } from 'node:url'\r\nimport { execSync } from 'node:child_process'\r\nimport { findUpSync } from 'find-up'\r\nimport md5 from 'md5'\r\n\r\nimport './shim.d.ts'\r\n\r\nimport { name as pkgName_ } from '../package.json'\r\nimport type { Options, VersionJSON, VersionType } from './type'\r\nexport * from './constant'\r\nexport type { Options } from './type'\r\nexport const pkgName = pkgName_\r\n\r\n/**\r\n * It returns the directory name of the current file.\r\n * @returns __dirname\r\n */\r\nexport function get__Dirname() {\r\n  try {\r\n    if (import.meta && import.meta.url)\r\n      return dirname(fileURLToPath(import.meta.url))\r\n\r\n    return __dirname\r\n  }\r\n  catch (err) {\r\n    return __dirname\r\n  }\r\n}\r\n\r\n/**\r\n * The function returns the first 8 characters of the MD5 hash of a given string.\r\n * @param {string} fileString - a string that represents the content of a file.\r\n * @returns the first 8 characters of the MD5 hash of the file\r\n */\r\nexport function getFileHash(fileString: string) {\r\n  return md5(fileString).slice(0, 8)\r\n}\r\n\r\n/**\r\n * It checks if the current directory is a Git or SVN repository, and returns the type of repository\r\n * @returns 'Git' | 'SVN' | 'unknown'\r\n */\r\nfunction checkRepoType() {\r\n  const gitRepo = findUpSync('.git', { type: 'directory' })\r\n  if (gitRepo)\r\n    return 'Git'\r\n  const svnRepo = findUpSync('.svn', { type: 'directory' })\r\n  if (svnRepo)\r\n    return 'SVN'\r\n\r\n  return 'unknown'\r\n}\r\n\r\n/**\r\n * It returns the version of the host project's package.json file\r\n * @returns The version of the package.json file in the root of the project.\r\n */\r\nexport function getHostProjectPkgVersion() {\r\n  try {\r\n    return process.env.npm_package_version as string\r\n  }\r\n  catch (err) {\r\n    console.warn(`\r\n======================================================\r\n[plugin-web-update-notice] cannot get the version of the host project's package.json file!\r\n======================================================`)\r\n    throw err\r\n  }\r\n}\r\n\r\n/**\r\n * If the current directory is a git repository, return the current commit hash\r\n * @returns The git commit hash of the current branch.\r\n */\r\nexport function getGitCommitHash() {\r\n  try {\r\n    return execSync('git rev-parse --short HEAD').toString().replace('\\n', '').trim()\r\n  }\r\n  catch (err) {\r\n    console.warn(`\r\n======================================================\r\n[plugin-web-update-notice] Not a git repository!\r\n======================================================`)\r\n    throw err\r\n  }\r\n}\r\n\r\n/**\r\n * get SVN revision number\r\n * @returns The SVN revision number.\r\n */\r\nexport function getSVNRevisionNumber() {\r\n  try {\r\n    return execSync('svnversion').toString().replace('\\n', '').trim()\r\n  }\r\n  catch (err) {\r\n    console.warn(`\r\n======================================================\r\n[plugin-web-update-notice] Not a SVN repository!\r\n======================================================`)\r\n    throw err\r\n  }\r\n}\r\n\r\n/**\r\n * It returns the current timestamp\r\n * @returns The current time in milliseconds.\r\n */\r\nexport function getTimestamp() {\r\n  return `${Date.now()}`\r\n}\r\n\r\nexport function getCustomVersion(version?: string) {\r\n  if (!version) {\r\n    console.warn(`\r\n======================================================\r\n[plugin-web-update-notice] The versionType is 'custom', but the customVersion is not specified!\r\n======================================================`)\r\n    throw new Error('The versionType is \\'custom\\', but the customVersion is not specified!')\r\n  }\r\n  return version\r\n}\r\n\r\n/**\r\n * It returns the version of the current project.\r\n * @param {VersionType} [versionType=git_commit_hash] - The version type\r\n * @param {string} [customVersion] - The custom version\r\n * @returns The version by the plugin.\r\n */\r\nexport function getVersion(): string\r\nexport function getVersion(versionType: 'custom', customVersion: string): string\r\nexport function getVersion(versionType: Exclude<VersionType, 'custom'>): string\r\nexport function getVersion(versionType?: VersionType, customVersion?: string) {\r\n  const getVersionStrategies: Record<VersionType, () => string> = {\r\n    pkg_version: getHostProjectPkgVersion,\r\n    git_commit_hash: getGitCommitHash,\r\n    build_timestamp: getTimestamp,\r\n    custom: () => getCustomVersion(customVersion),\r\n    svn_revision_number: getSVNRevisionNumber,\r\n  }\r\n\r\n  const defaultStrategyMap = {\r\n    Git: 'git_commit_hash',\r\n    SVN: 'svn_revision_number',\r\n    unknown: '',\r\n  }\r\n\r\n  const versionType_ = (versionType || defaultStrategyMap[checkRepoType()]) as VersionType\r\n\r\n  try {\r\n    const strategy = getVersionStrategies[versionType_]\r\n    if (!strategy) {\r\n      console.warn(`\r\n      ======================================================\r\n      [plugin-web-update-notice] The version type '${versionType}' is not supported!, we will use the packaging timestamp instead.\r\n      ======================================================`)\r\n      return getTimestamp()\r\n    }\r\n\r\n    return strategy()\r\n  }\r\n  catch (err) {\r\n    console.warn(`\r\n======================================================\r\n[plugin-web-update-notice] get version throw a error, we will use the packaging timestamp instead.\r\n======================================================`)\r\n    console.error(err)\r\n    return getTimestamp()\r\n  }\r\n}\r\n\r\n/**\r\n * generate json file content for version\r\n * @param {string} version - git commit hash or packaging time\r\n * @returns A string\r\n */\r\nexport function generateJSONFileContent(version: string, silence = false) {\r\n  const content: VersionJSON = {\r\n    version,\r\n  }\r\n  if (silence)\r\n    content.silence = true\r\n\r\n  return JSON.stringify(content, null, 2)\r\n}\r\n\r\nexport function generateJsFileContent(fileSource: string, version: string, options: Options) {\r\n  const { logVersion = true } = options\r\n  let content = `${fileSource}\r\n  window.__checkUpdateSetup__(${JSON.stringify(options)});`\r\n  if (logVersion) {\r\n    const fn = typeof logVersion === 'function' ? logVersion : logVersionDefault\r\n    content += `\r\n      ;const logFn = ${fn.toString()}\r\n      ;logFn('${version}', ${Date.now()})\r\n    `\r\n  }\r\n  return content\r\n}\r\n\r\nexport function logVersionDefault(version: string, releaseTime: number) {\r\n  // eslint-disable-next-line no-console\r\n  console.log(`version: %c${version}`, 'color: #1677ff')\r\n\r\n  // eslint-disable-next-line no-console\r\n  console.log(`release time: %c${new Date(releaseTime).toLocaleString()}`, 'color: #1677ff')\r\n}\r\n","import path from 'node:path';\nimport {fileURLToPath} from 'node:url';\nimport {locatePath, locatePathSync} from 'locate-path';\n\nconst toPath = urlOrPath => urlOrPath instanceof URL ? fileURLToPath(urlOrPath) : urlOrPath;\n\nexport const findUpStop = Symbol('findUpStop');\n\nexport async function findUpMultiple(name, options = {}) {\n\tlet directory = path.resolve(toPath(options.cwd) || '');\n\tconst {root} = path.parse(directory);\n\tconst stopAt = path.resolve(directory, options.stopAt || root);\n\tconst limit = options.limit || Number.POSITIVE_INFINITY;\n\tconst paths = [name].flat();\n\n\tconst runMatcher = async locateOptions => {\n\t\tif (typeof name !== 'function') {\n\t\t\treturn locatePath(paths, locateOptions);\n\t\t}\n\n\t\tconst foundPath = await name(locateOptions.cwd);\n\t\tif (typeof foundPath === 'string') {\n\t\t\treturn locatePath([foundPath], locateOptions);\n\t\t}\n\n\t\treturn foundPath;\n\t};\n\n\tconst matches = [];\n\t// eslint-disable-next-line no-constant-condition\n\twhile (true) {\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tconst foundPath = await runMatcher({...options, cwd: directory});\n\n\t\tif (foundPath === findUpStop) {\n\t\t\tbreak;\n\t\t}\n\n\t\tif (foundPath) {\n\t\t\tmatches.push(path.resolve(directory, foundPath));\n\t\t}\n\n\t\tif (directory === stopAt || matches.length >= limit) {\n\t\t\tbreak;\n\t\t}\n\n\t\tdirectory = path.dirname(directory);\n\t}\n\n\treturn matches;\n}\n\nexport function findUpMultipleSync(name, options = {}) {\n\tlet directory = path.resolve(toPath(options.cwd) || '');\n\tconst {root} = path.parse(directory);\n\tconst stopAt = options.stopAt || root;\n\tconst limit = options.limit || Number.POSITIVE_INFINITY;\n\tconst paths = [name].flat();\n\n\tconst runMatcher = locateOptions => {\n\t\tif (typeof name !== 'function') {\n\t\t\treturn locatePathSync(paths, locateOptions);\n\t\t}\n\n\t\tconst foundPath = name(locateOptions.cwd);\n\t\tif (typeof foundPath === 'string') {\n\t\t\treturn locatePathSync([foundPath], locateOptions);\n\t\t}\n\n\t\treturn foundPath;\n\t};\n\n\tconst matches = [];\n\t// eslint-disable-next-line no-constant-condition\n\twhile (true) {\n\t\tconst foundPath = runMatcher({...options, cwd: directory});\n\n\t\tif (foundPath === findUpStop) {\n\t\t\tbreak;\n\t\t}\n\n\t\tif (foundPath) {\n\t\t\tmatches.push(path.resolve(directory, foundPath));\n\t\t}\n\n\t\tif (directory === stopAt || matches.length >= limit) {\n\t\t\tbreak;\n\t\t}\n\n\t\tdirectory = path.dirname(directory);\n\t}\n\n\treturn matches;\n}\n\nexport async function findUp(name, options = {}) {\n\tconst matches = await findUpMultiple(name, {...options, limit: 1});\n\treturn matches[0];\n}\n\nexport function findUpSync(name, options = {}) {\n\tconst matches = findUpMultipleSync(name, {...options, limit: 1});\n\treturn matches[0];\n}\n\nexport {\n\tpathExists,\n\tpathExistsSync,\n} from 'path-exists';\n","import process from 'node:process';\nimport path from 'node:path';\nimport fs, {promises as fsPromises} from 'node:fs';\nimport {fileURLToPath} from 'node:url';\nimport pLocate from 'p-locate';\n\nconst typeMappings = {\n\tdirectory: 'isDirectory',\n\tfile: 'isFile',\n};\n\nfunction checkType(type) {\n\tif (Object.hasOwnProperty.call(typeMappings, type)) {\n\t\treturn;\n\t}\n\n\tthrow new Error(`Invalid type specified: ${type}`);\n}\n\nconst matchType = (type, stat) => stat[typeMappings[type]]();\n\nconst toPath = urlOrPath => urlOrPath instanceof URL ? fileURLToPath(urlOrPath) : urlOrPath;\n\nexport async function locatePath(\n\tpaths,\n\t{\n\t\tcwd = process.cwd(),\n\t\ttype = 'file',\n\t\tallowSymlinks = true,\n\t\tconcurrency,\n\t\tpreserveOrder,\n\t} = {},\n) {\n\tcheckType(type);\n\tcwd = toPath(cwd);\n\n\tconst statFunction = allowSymlinks ? fsPromises.stat : fsPromises.lstat;\n\n\treturn pLocate(paths, async path_ => {\n\t\ttry {\n\t\t\tconst stat = await statFunction(path.resolve(cwd, path_));\n\t\t\treturn matchType(type, stat);\n\t\t} catch {\n\t\t\treturn false;\n\t\t}\n\t}, {concurrency, preserveOrder});\n}\n\nexport function locatePathSync(\n\tpaths,\n\t{\n\t\tcwd = process.cwd(),\n\t\ttype = 'file',\n\t\tallowSymlinks = true,\n\t} = {},\n) {\n\tcheckType(type);\n\tcwd = toPath(cwd);\n\n\tconst statFunction = allowSymlinks ? fs.statSync : fs.lstatSync;\n\n\tfor (const path_ of paths) {\n\t\ttry {\n\t\t\tconst stat = statFunction(path.resolve(cwd, path_), {\n\t\t\t\tthrowIfNoEntry: false,\n\t\t\t});\n\n\t\t\tif (!stat) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (matchType(type, stat)) {\n\t\t\t\treturn path_;\n\t\t\t}\n\t\t} catch {}\n\t}\n}\n","/*\nHow it works:\n`this.#head` is an instance of `Node` which keeps track of its current value and nests another instance of `Node` that keeps the value that comes after it. When a value is provided to `.enqueue()`, the code needs to iterate through `this.#head`, going deeper and deeper to find the last value. However, iterating through every single item is slow. This problem is solved by saving a reference to the last value as `this.#tail` so that it can reference it to add a new value.\n*/\n\nclass Node {\n\tvalue;\n\tnext;\n\n\tconstructor(value) {\n\t\tthis.value = value;\n\t}\n}\n\nexport default class Queue {\n\t#head;\n\t#tail;\n\t#size;\n\n\tconstructor() {\n\t\tthis.clear();\n\t}\n\n\tenqueue(value) {\n\t\tconst node = new Node(value);\n\n\t\tif (this.#head) {\n\t\t\tthis.#tail.next = node;\n\t\t\tthis.#tail = node;\n\t\t} else {\n\t\t\tthis.#head = node;\n\t\t\tthis.#tail = node;\n\t\t}\n\n\t\tthis.#size++;\n\t}\n\n\tdequeue() {\n\t\tconst current = this.#head;\n\t\tif (!current) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#head = this.#head.next;\n\t\tthis.#size--;\n\t\treturn current.value;\n\t}\n\n\tclear() {\n\t\tthis.#head = undefined;\n\t\tthis.#tail = undefined;\n\t\tthis.#size = 0;\n\t}\n\n\tget size() {\n\t\treturn this.#size;\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tlet current = this.#head;\n\n\t\twhile (current) {\n\t\t\tyield current.value;\n\t\t\tcurrent = current.next;\n\t\t}\n\t}\n}\n","{\r\n  \"name\": \"@plugin-ofs-web-update-notification/core\",\r\n  \"type\": \"module\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"Detect web page updates and notify\",\r\n  \"author\": \"Utopia\",\r\n  \"license\": \"MIT\",\r\n  \"homepage\": \"https://github.com/GreatAuk/plugin-web-update-notification\",\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"https://github.com/GreatAuk/plugin-web-update-notification\",\r\n    \"directory\": \"packages/core\"\r\n  },\r\n  \"bugs\": {\r\n    \"url\": \"https://github.com/GreatAuk/plugin-web-update-notification/issues\"\r\n  },\r\n  \"keywords\": [\r\n    \"ofs-web-update-notification\"\r\n  ],\r\n  \"sideEffects\": false,\r\n  \"exports\": {\r\n    \".\": {\r\n      \"types\": \"./dist/index.d.ts\",\r\n      \"require\": \"./dist/index.cjs\",\r\n      \"import\": \"./dist/index.js\"\r\n    }\r\n  },\r\n  \"main\": \"dist/index.cjs\",\r\n  \"module\": \"dist/index.js\",\r\n  \"types\": \"dist/index.d.ts\",\r\n  \"files\": [\r\n    \"dist\"\r\n  ],\r\n  \"scripts\": {\r\n    \"start\": \"tsx src/index.ts\",\r\n    \"build\": \"tsup && tsup --config tsup.config.injectFile.ts\",\r\n    \"dev\": \"tsup --watch\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"find-up\": \"^6.3.0\"\r\n  }\r\n}\r\n","export const DIRECTORY_NAME = 'pluginWebUpdateNotice'\r\nexport const JSON_FILE_NAME = 'web_version_by_plugin'\r\nexport const INJECT_STYLE_FILE_NAME = 'webUpdateNoticeInjectStyle'\r\n/** .global is iife suffix */\r\nexport const INJECT_SCRIPT_FILE_NAME = 'webUpdateNoticeInjectScript.global'\r\nexport const CUSTOM_UPDATE_EVENT_NAME = 'plugin_web_update_notice'\r\nexport const NOTIFICATION_ANCHOR_CLASS_NAME = 'plugin-web-update-notice-anchor'\r\n\r\n/** refresh button class name */\r\nexport const NOTIFICATION_REFRESH_BTN_CLASS_NAME = 'plugin-web-update-notice-refresh-btn'\r\n/** dismiss button class name */\r\nexport const NOTIFICATION_DISMISS_BTN_CLASS_NAME = 'plugin-web-update-notice-dismiss-btn'\r\nexport const LOCAL_STORAGE_PREFIX = 'web_update_check_dismiss_version_'\r\n\r\nexport const NOTIFICATION_POSITION_MAP = {\r\n  topLeft: 'top: 24px;left: 24px',\r\n  topRight: 'top: 24px;right: 24px',\r\n  bottomLeft: 'bottom: 24px;left: 24px',\r\n  bottomRight: 'bottom: 24px;right: 24px',\r\n}\r\n"],"mappings":"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","names":["require_crypt","__commonJSMin","exports","module","base64map","crypt","n","b","i","bytes","words","hex","c","base64","triplet","j","imod4","require_charenc","__commonJSMin","exports","module","charenc","str","bytes","i","require_is_buffer","__commonJSMin","exports","module","obj","isBuffer","isSlowBuffer","require_md5","__commonJSMin","exports","module","crypt","utf8","isBuffer","bin","md5","message","options","m","l","a","b","c","d","i","FF","GG","HH","II","aa","bb","cc","dd","x","s","t","n","digestbytes","dirname","fileURLToPath","execSync","path","fileURLToPath","process","path","fs","fsPromises","fileURLToPath","Node","value","__publicField","_head","_tail","_size","Queue","__privateAdd","node","__privateGet","__privateSet","__privateWrapper","current","typeMappings","checkType","type","matchType","stat","toPath","urlOrPath","fileURLToPath","locatePathSync","paths","cwd","process","type","allowSymlinks","checkType","toPath","statFunction","fs","path_","stat","path","matchType","toPath","urlOrPath","fileURLToPath","findUpStop","findUpMultipleSync","name","options","directory","path","toPath","root","stopAt","limit","paths","runMatcher","locateOptions","locatePathSync","foundPath","matches","findUpStop","findUpSync","name","options","findUpMultipleSync","import_md5","name","DIRECTORY_NAME","JSON_FILE_NAME","INJECT_STYLE_FILE_NAME","INJECT_SCRIPT_FILE_NAME","CUSTOM_UPDATE_EVENT_NAME","NOTIFICATION_ANCHOR_CLASS_NAME","NOTIFICATION_REFRESH_BTN_CLASS_NAME","NOTIFICATION_DISMISS_BTN_CLASS_NAME","LOCAL_STORAGE_PREFIX","NOTIFICATION_POSITION_MAP","pkgName","name","get__Dirname","dirname","fileURLToPath","getFileHash","fileString","md5","checkRepoType","findUpSync","getHostProjectPkgVersion","err","getGitCommitHash","execSync","getSVNRevisionNumber","getTimestamp","getCustomVersion","version","getVersion","versionType","customVersion","getVersionStrategies","versionType_","strategy","generateJSONFileContent","silence","content","generateJsFileContent","fileSource","options","logVersion","logVersionDefault","releaseTime"]}